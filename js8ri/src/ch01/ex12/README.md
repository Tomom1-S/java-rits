## 練習問題1.12

インタフェースにメソッドを追加することは既存のコードを動作させなくするので、過去には、悪いことであると言われていました。
今では、デフォルト実装も提供するのであれば、新たなメソッドを追加することは問題ありません。
そのような追加は、どれだけ安全なのでしょうか。
`Collection` インタフェースの新たな `stream` メソッドが古いコードのコンパイルを失敗させるシナリオを述べなさい。
バイナリ互換性についてはどうでしょうか。
JAR ファイルからの古いコードは、動作するでしょうか。

### 解答

### 柴田さんコメント

`A` インタフェースを実装した `Impl` クラスで `stream` メソッドが実装されている。
このとき、`Impl` クラスで実装されている `Collection` インタフェースに `stream` メソッドが
デフォルト実装とともに提供された場合、ふたつのインタフェースの返り値型が同じ場合にエラーとなる。

バイナリ互換性は保たれる。
クライアント側を含め、リコンパイルをしない限りはエラーにならない。
コンパイルの時点で、返り値型も込みでコンパイルされるため。

- バイナリ互換性
- ソースコード互換性：ソースコードをコンパイルしたらエラーになるか
