package ch05.ex06;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;

import static org.hamcrest.CoreMatchers.is;
import static org.junit.Assert.*;

public class FridayThe13thTest {

    private final ByteArrayOutputStream outContent = new ByteArrayOutputStream();
    private final PrintStream originalOut = System.out;
    private final String ls = System.lineSeparator();

    @Before
    public void setUpStreams() {
        System.setOut(new PrintStream(outContent));
    }

    @After
    public void restoreStreams() {
        System.setOut(originalOut);
    }

    @Test
    public void Dec2020のカレンダー() {
        FridayThe13th.main(new String[]{});

        // 標準出力の内容を取得
        System.out.flush();
        final String expected = "1901-09-13" + ls
                + "1901-12-13" + ls
                + "1902-06-13" + ls
                + "1903-02-13" + ls
                + "1903-03-13" + ls
                + "1903-11-13" + ls
                + "1904-05-13" + ls
                + "1905-01-13" + ls
                + "1905-10-13" + ls
                + "1906-04-13" + ls
                + "1906-07-13" + ls
                + "1907-09-13" + ls
                + "1907-12-13" + ls
                + "1908-03-13" + ls
                + "1908-11-13" + ls
                + "1909-08-13" + ls
                + "1910-05-13" + ls
                + "1911-01-13" + ls
                + "1911-10-13" + ls
                + "1912-09-13" + ls
                + "1912-12-13" + ls
                + "1913-06-13" + ls
                + "1914-02-13" + ls
                + "1914-03-13" + ls
                + "1914-11-13" + ls
                + "1915-08-13" + ls
                + "1916-10-13" + ls
                + "1917-04-13" + ls
                + "1917-07-13" + ls
                + "1918-09-13" + ls
                + "1918-12-13" + ls
                + "1919-06-13" + ls
                + "1920-02-13" + ls
                + "1920-08-13" + ls
                + "1921-05-13" + ls
                + "1922-01-13" + ls
                + "1922-10-13" + ls
                + "1923-04-13" + ls
                + "1923-07-13" + ls
                + "1924-06-13" + ls
                + "1925-02-13" + ls
                + "1925-03-13" + ls
                + "1925-11-13" + ls
                + "1926-08-13" + ls
                + "1927-05-13" + ls
                + "1928-01-13" + ls
                + "1928-04-13" + ls
                + "1928-07-13" + ls
                + "1929-09-13" + ls
                + "1929-12-13" + ls
                + "1930-06-13" + ls
                + "1931-02-13" + ls
                + "1931-03-13" + ls
                + "1931-11-13" + ls
                + "1932-05-13" + ls
                + "1933-01-13" + ls
                + "1933-10-13" + ls
                + "1934-04-13" + ls
                + "1934-07-13" + ls
                + "1935-09-13" + ls
                + "1935-12-13" + ls
                + "1936-03-13" + ls
                + "1936-11-13" + ls
                + "1937-08-13" + ls
                + "1938-05-13" + ls
                + "1939-01-13" + ls
                + "1939-10-13" + ls
                + "1940-09-13" + ls
                + "1940-12-13" + ls
                + "1941-06-13" + ls
                + "1942-02-13" + ls
                + "1942-03-13" + ls
                + "1942-11-13" + ls
                + "1943-08-13" + ls
                + "1944-10-13" + ls
                + "1945-04-13" + ls
                + "1945-07-13" + ls
                + "1946-09-13" + ls
                + "1946-12-13" + ls
                + "1947-06-13" + ls
                + "1948-02-13" + ls
                + "1948-08-13" + ls
                + "1949-05-13" + ls
                + "1950-01-13" + ls
                + "1950-10-13" + ls
                + "1951-04-13" + ls
                + "1951-07-13" + ls
                + "1952-06-13" + ls
                + "1953-02-13" + ls
                + "1953-03-13" + ls
                + "1953-11-13" + ls
                + "1954-08-13" + ls
                + "1955-05-13" + ls
                + "1956-01-13" + ls
                + "1956-04-13" + ls
                + "1956-07-13" + ls
                + "1957-09-13" + ls
                + "1957-12-13" + ls
                + "1958-06-13" + ls
                + "1959-02-13" + ls
                + "1959-03-13" + ls
                + "1959-11-13" + ls
                + "1960-05-13" + ls
                + "1961-01-13" + ls
                + "1961-10-13" + ls
                + "1962-04-13" + ls
                + "1962-07-13" + ls
                + "1963-09-13" + ls
                + "1963-12-13" + ls
                + "1964-03-13" + ls
                + "1964-11-13" + ls
                + "1965-08-13" + ls
                + "1966-05-13" + ls
                + "1967-01-13" + ls
                + "1967-10-13" + ls
                + "1968-09-13" + ls
                + "1968-12-13" + ls
                + "1969-06-13" + ls
                + "1970-02-13" + ls
                + "1970-03-13" + ls
                + "1970-11-13" + ls
                + "1971-08-13" + ls
                + "1972-10-13" + ls
                + "1973-04-13" + ls
                + "1973-07-13" + ls
                + "1974-09-13" + ls
                + "1974-12-13" + ls
                + "1975-06-13" + ls
                + "1976-02-13" + ls
                + "1976-08-13" + ls
                + "1977-05-13" + ls
                + "1978-01-13" + ls
                + "1978-10-13" + ls
                + "1979-04-13" + ls
                + "1979-07-13" + ls
                + "1980-06-13" + ls
                + "1981-02-13" + ls
                + "1981-03-13" + ls
                + "1981-11-13" + ls
                + "1982-08-13" + ls
                + "1983-05-13" + ls
                + "1984-01-13" + ls
                + "1984-04-13" + ls
                + "1984-07-13" + ls
                + "1985-09-13" + ls
                + "1985-12-13" + ls
                + "1986-06-13" + ls
                + "1987-02-13" + ls
                + "1987-03-13" + ls
                + "1987-11-13" + ls
                + "1988-05-13" + ls
                + "1989-01-13" + ls
                + "1989-10-13" + ls
                + "1990-04-13" + ls
                + "1990-07-13" + ls
                + "1991-09-13" + ls
                + "1991-12-13" + ls
                + "1992-03-13" + ls
                + "1992-11-13" + ls
                + "1993-08-13" + ls
                + "1994-05-13" + ls
                + "1995-01-13" + ls
                + "1995-10-13" + ls
                + "1996-09-13" + ls
                + "1996-12-13" + ls
                + "1997-06-13" + ls
                + "1998-02-13" + ls
                + "1998-03-13" + ls
                + "1998-11-13" + ls
                + "1999-08-13" + ls
                + "2000-10-13" + ls;
        assertThat(outContent.toString(), is(expected));
    }

}